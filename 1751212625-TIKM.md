---
id: 1751212625-TIKM
aliases:
  - Nix configuration
tags: []
---

# Nix configuration

- In fish shell
```bash
sh (curl -L https://nixos.org/nix/install | psub) --no-daemon
```
- Add to ~/.config/fish/config.fish
```bash
status --is-interactive; and source ~/.nix-profile/etc/profile.d/nix.fish
```

- Run
```bash
nix-channel --add https://nixos.org/channels/nixpkgs-unstable nixpkgs
```

- Edit (or create) ~/.config/nix/nix.conf and add
```bash
experimental-features = nix-command
connect-timeout = 60000
stalled-download-timeout = 60000
download-attempts = 10
```

- Run
```bash
nix-channel --update

```

## Post Install commands

- Temporary installation
```bash
nix-env -p nixpkgs.btop
```

- Permenant installation
```bash
nix-env -iA nixpkgs.btop
```

- List installed packages
```bash
nix-env -q
```

- Uninstall a packag
```bash
nix-env --uninstall btop
```

- Roll back changes
```bash
nix-env --rollback
```

-- After installing packages
```bash
set -x PATH $HOME/.nix-profile/bin $PATH
```
